"use strict";(globalThis["webpackChunkTaron"]=globalThis["webpackChunkTaron"]||[]).push([[134],{7134:(e,t,s)=>{s.r(t),s.d(t,{default:()=>F});var i=s(6768),a=s(4232);const r=e=>((0,i.Qi)("data-v-5eff2cac"),e=e(),(0,i.jt)(),e),n=r((()=>(0,i.Lk)("h2",null,"Iniciar outra consulta ?",-1)));function l(e,t,s,r,l,d){const o=(0,i.g2)("card-result"),c=(0,i.g2)("v-main"),u=(0,i.g2)("v-icon"),h=(0,i.g2)("v-btn"),p=(0,i.g2)("v-bottom-sheet"),g=(0,i.g2)("loading");return(0,i.uX)(),(0,i.CE)("main",null,[(0,i.bF)(c,{ref:"content"},{default:(0,i.k6)((()=>[d.cards&&d.readings?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.Lk)("h4",null,(0,a.v_)(d.question),1),(0,i.Lk)("section",null,[(0,i.bF)(o,{cardId:d.selectedCards[0],bodyPart:0,onFlip:t[0]||(t[0]=e=>d.onFlip()),disabled:l.unlocking},null,8,["cardId","disabled"])]),(0,i.Lk)("section",null,[(0,i.bF)(o,{cardId:d.selectedCards[1],bodyPart:1,onFlip:t[1]||(t[1]=e=>d.onFlip()),disabled:l.unlocking},null,8,["cardId","disabled"]),l.unlock?((0,i.uX)(),(0,i.Wv)(o,{key:0,special:"",cardId:l.navelCardId,bodyPart:5,onFlip:t[2]||(t[2]=e=>d.onFlip()),disabled:l.unlocking},null,8,["cardId","disabled"])):(0,i.Q3)("",!0),(0,i.bF)(o,{cardId:d.selectedCards[2],bodyPart:2,onFlip:t[3]||(t[3]=e=>d.onFlip()),disabled:l.unlocking},null,8,["cardId","disabled"])]),(0,i.Lk)("section",null,[(0,i.bF)(o,{cardId:d.selectedCards[3],bodyPart:3,onFlip:t[4]||(t[4]=e=>d.onFlip()),disabled:l.unlocking},null,8,["cardId","disabled"]),(0,i.bF)(o,{cardId:d.selectedCards[4],bodyPart:4,onFlip:t[5]||(t[5]=e=>d.onFlip()),disabled:l.unlocking},null,8,["cardId","disabled"])])],64)):(0,i.Q3)("",!0)])),_:1},512),(0,i.bF)(p,{modelValue:l.newConsultationDialog,"onUpdate:modelValue":t[7]||(t[7]=e=>l.newConsultationDialog=e),"content-class":"confirm"},{default:(0,i.k6)((()=>[n,(0,i.Lk)("footer",null,[(0,i.bF)(h,{text:"",onClick:t[6]||(t[6]=e=>l.newConsultationDialog=!1)},{default:(0,i.k6)((()=>[(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.eW)("clear")])),_:1}),(0,i.eW)("Não ")])),_:1}),(0,i.bF)(h,{color:"primary",onClick:d.reset},{default:(0,i.k6)((()=>[(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.eW)("check")])),_:1}),(0,i.eW)("Sim ")])),_:1},8,["onClick"])])])),_:1},8,["modelValue"]),l.opened>=6?((0,i.uX)(),(0,i.Wv)(h,{key:0,theme:"light",color:"primary",size:"small",class:"floating",onClick:t[8]||(t[8]=e=>l.newConsultationDialog=!0),icon:"refresh"})):(0,i.Q3)("",!0),(0,i.bF)(h,{theme:"light",color:"primary",size:"small",class:"button-share",onClick:d.share,icon:"share"},null,8,["onClick"]),d.cards&&d.readings?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(g,{key:1}))])}s(4114);var d=s(9751);const o=e=>((0,i.Qi)("data-v-517e9a8d"),e=e(),(0,i.jt)(),e),c=["src"],u=["src"],h={key:1},p=o((()=>(0,i.Lk)("label",null,"Possíveis interpretações positivas",-1))),g=o((()=>(0,i.Lk)("label",null,"Possíveis interpretações negativas",-1))),f={key:1},m=o((()=>(0,i.Lk)("label",null,"Possíveis interpretações",-1)));function k(e,t,s,r,n,l){const d=(0,i.g2)("v-btn");return(0,i.uX)(),(0,i.CE)("main",{class:(0,a.C4)({special:s.special})},[(0,i.Lk)("section",{onClick:t[0]||(t[0]=(...e)=>l.toggleFlip&&l.toggleFlip(...e)),class:(0,a.C4)({flip:n.flip,expand:n.expand,contract:n.contract})},[(0,i.Lk)("figure",{class:(0,a.C4)(n.aspect)},[(0,i.Lk)("img",{src:`${l.baseUrl}img/cards/back.webp`,alt:"Card",class:"elevation-4"},null,8,c),l.card?((0,i.uX)(),(0,i.CE)("img",{key:0,ref:"card",src:`${l.baseUrl}${l.card.img}`,alt:"Card",class:(0,a.C4)(["elevation-4",{expand:n.expand}])},null,10,u)):(0,i.Q3)("",!0),n.expand&&!n.contract?((0,i.uX)(),(0,i.CE)("figcaption",h,[(0,i.Lk)("h2",null,(0,a.v_)(l.readings.body),1),(0,i.Lk)("p",null,(0,a.v_)(l.readings.description),1),(0,i.Lk)("p",null,(0,a.v_)(l.cardDescription()),1),l.card.id<=22?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.Lk)("footer",null,[p,(0,i.Lk)("span",null,(0,a.v_)(l.card.positive),1)]),(0,i.Lk)("footer",null,[g,(0,i.Lk)("span",null,(0,a.v_)(l.card.negative),1)])],64)):((0,i.uX)(),(0,i.CE)("footer",f,[m,(0,i.Lk)("span",null,(0,a.v_)(l.card.description),1)]))])):(0,i.Q3)("",!0)],2),n.expand&&!n.contract?((0,i.uX)(),(0,i.Wv)(d,{key:0,icon:"clear",class:"floating",size:"small"})):(0,i.Q3)("",!0)],2)],2)}const C={name:"card-result",props:{cardId:Number,bodyPart:Number,disabled:Boolean,special:Boolean},computed:{baseUrl(){return"/"},card(){return this.$store.state.cards.find((e=>e.id==this.cardId))},readings(){return this.$store.state.readings[this.bodyPart]},revealAll(){return this.$store.state.revealAll},audioPlay:{get(){return this.$store.state.audioPlay},set(e){this.$store.commit("audioPlay",e)}},resizeWindow:{get(){return this.$store.state.resizeWindow},set(e){this.$store.commit("resizeWindow",e)}}},data(){return{flip:!1,expand:!1,contract:!1,aspect:null}},mounted(){this.revealAll&&(this.flip=!0),this.refreshWindowSize()},methods:{toggleFlip(){return!this.disabled&&((!this.expand||!this.contract)&&(this.audioPlay="card-select",this.flip?(this.refreshCardPosition(),this.expand?(this.contract=!0,setTimeout((()=>{this.$emit("close"),this.expand=!1,this.contract=!1}),350)):this.expand=!0):(this.flip=!this.flip,this.$emit("flip")),void this.$forceUpdate()))},cardDescription(){return this.card.id<=22?this.readings.arcano:this.card.value>=11?this.readings.court:this.readings.numeric},refreshWindowSize(){let e=window.innerHeight/3-56,t=100*e/462,s=256*t/100;document.documentElement.style.setProperty("--card-result-width",`${s}px`),document.documentElement.style.setProperty("--card-result-height",`${e}px`),this.aspect=window.innerWidth>window.innerHeight?"horizontal":"vertical",this.refreshCardPosition()},refreshCardPosition(){let e=window.innerWidth>1e3?(window.innerWidth-1e3)/2:0;this.$el.style.setProperty("--offset-top",`-${this.$el.offsetTop}px`),this.$el.style.setProperty("--offset-left",`-${this.$el.offsetLeft+e}px`),this.refreshCardWidth()},refreshCardWidth(){setTimeout((()=>{this.$refs.card&&this.$el.style.setProperty("--card-expanded-width",`${this.$refs.card.width}px`)}),300)}},watch:{resizeWindow(e){e&&this.refreshWindowSize()}}};var b=s(1241);const v=(0,b.A)(C,[["render",k],["__scopeId","data-v-517e9a8d"]]),y=v,$={components:{loading:d.A,cardResult:y},computed:{question(){return sessionStorage.getItem("question")},revealAll(){return this.$store.state.revealAll},cards:{get(){return this.$store.state.cards},set(e){this.$store.commit("setCards",e)}},readings:{get(){return this.$store.state.readings},set(e){this.$store.commit("setReadings",e)}},selectedCards:{get(){return this.$store.state.selectedCards},set(e){this.$store.commit("setSelectedCards",e)}},audioPlay:{get(){return this.$store.state.audioPlay},set(e){this.$store.commit("audioPlay",e)}}},data(){return{opened:0,unlocking:!1,unlock:!1,navelCardId:null,newConsultationDialog:!1}},created(){this.selectedCards.length<5&&this.$router.push("/"),this.cards.length?this.getCardsValues():this.getCards(),this.getReadings()},mounted(){this.revealAll&&(this.unlock=!0),document.documentElement.style.setProperty("--result-screen-offset-top",(window.innerHeight-this.$refs.content.$el.clientHeight)/2+"px")},methods:{getReadings(){fetch("/json/readings.json").then((e=>e.json())).then((e=>{this.readings=e}))},getCards(){fetch("/json/cards.json").then((e=>e.json())).then((e=>{this.cards=e,this.getCardsValues()}))},getCardsValues(){let e=this.cards.slice(0).filter((e=>this.selectedCards.includes(e.id))).map((e=>e.value));this.findNavelCard(e)},onFlip(){return this.opened++,!this.unlock&&(!(this.opened<5)&&(this.unlocking=!0,this.unlock=!0,this.audioPlay="bell",void setTimeout((()=>{this.unlocking=!1}),3e3)))},findNavelCard(e){let t;"object"!=typeof e&&(e=e.toString().split("").map((e=>parseInt(e)))),t=e.reduce(((e,t)=>e+t),0),t>22?this.findNavelCard(t):this.navelCardId=t},reset(){sessionStorage.removeItem("question"),sessionStorage.removeItem("selectedCards"),this.selectedCards=[],this.$router.push("/")},share(){navigator.share({url:`${location.origin}/#/?reading=${this.selectedCards.join(",")}`})}}},w=(0,b.A)($,[["render",l],["__scopeId","data-v-5eff2cac"]]),F=w}}]);